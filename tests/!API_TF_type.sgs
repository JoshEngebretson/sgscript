
global ERRORS;
global tests_failed, tests_ran;

//
function section( x ){ print( "\n\t<< ", x, " >>\n" ); }


//
print( "\n\n-- TYPES --\n" );
//

loadtypeflags();

var a = "random string";
var b = "WHAT";
var c = "banana";
var d = " \t\r\n \t\r\n spacy \t\r\n \t\r\n ";


var _N = null, _B = true, _I = 1, _R = 1.0, _S = "1", _F = section, _C = print, _O = [];

	section( "is_* - convertible" );
testEqual( !is_numeric( _N ) && is_numeric( _B ) && is_numeric( _I ) && is_numeric( _R ) &&
	!is_numeric( _F ) && !is_numeric( _C ) && !is_numeric( _O ), true, "is_numeric - basic tests" );
testEqual( is_numeric( _S ), true, "is_numeric - numeric string" );
testEqual( is_numeric( c ), false, "is_numeric - non-numeric string" );
testEqual( is_numeric( "1E+2" ) && is_numeric( "-123.456" ) && is_numeric( "0x7f" ) &&
	is_numeric( "0b101" ) && is_numeric( "01234" ) && is_numeric( "0o427" ), true, "is_numeric - extra numeric formats" );
testEqual( !is_callable( _N ) && !is_callable( _B ) && !is_callable( _I ) && !is_callable( _R ) &&
	!is_callable( _S ) && is_callable( _F ) && is_callable( _C ), true, "is_callable - basic tests" );
testEqual( is_callable( _O ), false, "is_callable - non-callable object" );
testEqual( is_callable( closure( print, _O ) ), true, "is_callable - callable object" );

	section( "type_*" );
testEqual( typeid( _N ) == VT_NULL && typeid( _B ) == VT_BOOL && typeid( _I ) == VT_INT &&
	typeid( _R ) == VT_REAL && typeid( _S ) == VT_STRING && typeid( _F ) == VT_FUNC &&
	typeid( _C ) == VT_CFUNC && typeid( _O ) == VT_OBJECT, true, "typeid - basic tests" );


//
print( "\n\nTesting finished!\nRan ", tests_ran, " tests of which ", tests_failed, " failed.\n" );
//
